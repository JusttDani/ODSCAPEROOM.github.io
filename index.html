<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fondo Sur vs ODS - DLC Kevin & Ana</title>
    <link href="https://fonts.googleapis.com/css2?family=Righteous&family=Roboto:wght@900&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-red: #ff003c;
            --neon-green: #39ff14;
            --dark-bg: #050505;
            --font-size-huge: 5.5vh;
            --font-size-medium: 3.8vh;
            --font-size-small: 2.5vh;
        }

        * { box-sizing: border-box; }

        body {
            margin: 0; padding: 0;
            font-family: 'Roboto', sans-serif;
            background: radial-gradient(circle, #1a0033 0%, #050505 100%);
            color: #fff;
            display: flex; justify-content: center; align-items: center;
            height: 100vh; width: 100vw; overflow: hidden;
        }

        #main-layout {
            display: flex; gap: 20px;
            width: 90vw; height: 85vh;
        }

        #game-wrapper {
            flex: 3;
            background: rgba(0, 0, 0, 0.95);
            border: 6px solid var(--neon-blue);
            border-radius: 40px;
            padding: 4vh;
            display: flex; flex-direction: column;
            text-align: center;
            box-shadow: 0 0 50px rgba(0, 243, 255, 0.2);
            position: relative;
        }

        p { 
            font-size: var(--font-size-medium); 
            line-height: 1.4; margin: auto 0;
            font-weight: 900; text-align: center;
            word-spacing: 0.5vw;
        }

        h1 { 
            font-family: 'Righteous', cursive; 
            font-size: var(--font-size-huge); 
            color: var(--neon-red); 
            margin-bottom: 1vh;
            text-transform: uppercase;
            text-shadow: 0 0 20px var(--neon-red);
        }

        h2 { 
            font-family: 'Righteous', cursive; 
            font-size: var(--font-size-medium); 
            color: var(--neon-green);
            margin-bottom: 1vh;
        }

        #hud {
            font-family: 'Righteous', cursive;
            font-size: var(--font-size-small);
            color: var(--neon-blue);
            margin-bottom: 1vh;
            opacity: 0.8;
        }

        .btn-group {
            display: flex; flex-direction: column;
            gap: 1.5vh; width: 100%;
            margin-top: auto;
        }

        button {
            background: #fff; border: none;
            padding: 2vh; color: #000;
            font-weight: 900; font-size: var(--font-size-small);
            border-radius: 20px; cursor: pointer;
            font-family: 'Righteous', cursive;
            text-transform: uppercase; transition: all 0.2s;
        }

        button:hover { transform: scale(1.03); background: var(--neon-blue); }

        .btn-next { background: var(--neon-red); color: white; margin-top: 2vh; }

        #leaderboard-wrapper {
            flex: 1;
            background: rgba(0, 0, 0, 0.8);
            border: 4px solid var(--neon-green);
            border-radius: 30px;
            padding: 2vh; display: flex; flex-direction: column;
        }

        .lb-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 1vh; margin-bottom: 1vh;
            border-radius: 10px; display: flex;
            justify-content: space-between;
            font-size: calc(var(--font-size-small) * 0.8);
        }

        .hidden { display: none !important; }
        .fade-in { animation: fadeIn 0.4s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .dlc-tag {
            color: var(--neon-red);
            font-size: 0.5em;
            vertical-align: middle;
            border: 2px solid var(--neon-red);
            padding: 2px 5px;
            border-radius: 5px;
        }
    </style>
</head>
<body>

    <div id="main-layout">
        <div id="game-wrapper">
            <div id="hud">AGENDA 2030 STATUS: <span id="current-score">0</span> PTS</div>

            <div id="start-screen" class="fade-in" style="height:100%; display:flex; flex-direction:column;">
                <h1>FONDO SUR VS ODS</h1>
                <h2>DLC KEVIN & ANA <span class="dlc-tag">ACTIVO</span></h2>
                <p>El grupo de los 5 de Fondo Sur ha sido interceptado por la Agenda 2030 de Perro Sanxe. <br><br>Con la ayuda (o el estorbo) del <b>DLC Kevin & Ana</b>, deb√©is sobrevivir a la dictadura clim√°tica. ¬°A los puestos!</p>
                <div class="btn-group"><button onclick="startGame()">‚ò¢Ô∏è INICIAR PROTOCOLO</button></div>
            </div>

            <div id="question-screen" class="hidden fade-in" style="height:100%; display:flex; flex-direction:column;">
                <h2 id="q-title"></h2>
                <p id="q-desc"></p>
                <div id="q-options" class="btn-group"></div>
            </div>

            <div id="consequence-screen" class="hidden fade-in" style="height:100%; display:flex; flex-direction:column;">
                <h1 id="c-title"></h1>
                <p id="c-desc"></p>
                <div class="btn-group"><button class="btn-next" onclick="nextLevel()">AVANZAR EN EL PLAN ‚û°Ô∏è</button></div>
            </div>

            <div id="final-screen" class="hidden fade-in" style="height:100%; display:flex; flex-direction:column;">
                <h1>üèÅ INFORME FINAL</h1>
                <div id="final-result-content"></div>
                <div class="btn-group"><button class="btn-next" onclick="resetGame()">üîÑ REINICIAR SISTEMA</button></div>
            </div>
        </div>

        <div id="leaderboard-wrapper">
            <h2 style="color:var(--neon-green); font-size: 3vh; text-align:center;">üìä HISTORIAL</h2>
            <div id="lb-list"></div>
        </div>
    </div>

    <script>
        const questions = [
            {
                title: "ODS 13: ACCI√ìN CLIM√ÅTICA",
                desc: "S√°nchez viaja en Falcon para inaugurar un carril bici en Fondo Sur. ¬øCu√°l es el objetivo de este ODS?",
                options: [
                    { text: "Reducir emisiones un 45% para 2030", points: 50, cons: "¬°Correcto! Kevin dice que √©l reduce sus emisiones no respirando cuando pasa Perro Sanxe cerca." },
                    { text: "Prohibir los mecheros en Fondo Sur", points: -20, cons: "Incorrecto. Eso solo aumentar√≠a la tasa de criminalidad por falta de nicotina. Sanxe te penaliza." },
                    { text: "Que el Falcon sea el√©ctrico", points: -50, cons: "Utop√≠a pura. Has gastado todo el presupuesto en bater√≠as que no funcionan. El clima empeora." }
                ]
            },
            {
                title: "ODS 14: VIDA SUBMARINA",
                desc: "Ana encuentra una botella de gintonic flotando en el mar. ¬øQu√© dice el ODS 14 sobre la contaminaci√≥n marina?",
                options: [
                    { text: "Prevenir y reducir la contaminaci√≥n para 2025", points: 50, cons: "¬°Bien! Ana ha reciclado la botella (despu√©s de termin√°rsela). Fondo Sur salva los oc√©anos." },
                    { text: "Ense√±ar a los delfines a votar al PSOE", points: -30, cons: "Eso no est√° en la agenda... todav√≠a. Los delfines est√°n confundidos y el ecosistema colapsa." },
                    { text: "Privatizar el agua de los cubitos", points: 10, cons: "Interesante propuesta capitalista, pero los peces siguen muriendo por el pl√°stico." }
                ]
            },
            {
                title: "ODS 15: VIDA TERRESTRE",
                desc: "El desierto llega a Fondo Sur. ¬øCu√°l es la meta contra la desertificaci√≥n?",
                options: [
                    { text: "Luchar contra la desertificaci√≥n y restaurar tierras", points: 50, cons: "¬°Exacto! Kevin y Ana est√°n plantando cactus para disimular. Un √©xito de biodiversidad." },
                    { text: "Pintar el suelo de verde", points: -40, cons: "Parece un campo de f√∫tbol de tercera. Los linces ib√©ricos se han re√≠do de ti antes de extinguirse." },
                    { text: "Exportar arena a Dub√°i", points: 0, cons: "Buen negocio, pero el ODS dice que hay que cuidar el suelo, no venderlo por wallapop." }
                ]
            },
            {
                title: "ODS 16: PAZ Y JUSTICIA",
                desc: "Kevin intenta registrar 'Fondo Sur' como naci√≥n independiente. ¬øQu√© busca este ODS?",
                options: [
                    { text: "Promover sociedades pac√≠ficas e instituciones s√≥lidas", points: 50, cons: "Correcto. Aunque una instituci√≥n s√≥lida con los 5 de Fondo Sur suena a milagro de Navidad." },
                    { text: "Amnist√≠a para todos (Versi√≥n S√°nchez)", points: -100, cons: "Te has pasado de frenada pol√≠tica. La justicia colapsa y Fondo Sur es ahora una anarqu√≠a total." },
                    { text: "Que Ana sea la Jueza Suprema", points: 20, cons: "Habr√≠a mucha paz, pero la justicia se basar√≠a en qui√©n trae mejores aperitivos. Instituci√≥n dudosa." }
                ]
            },
            {
                title: "ODS 17: ALIANZAS GLOBALES",
                desc: "Los 5 de Fondo Sur firman un pacto con Kevin & Ana (DLC). ¬øCu√°l es la clave del ODS 17?",
                options: [
                    { text: "Revitalizar la Alianza Mundial para el Desarrollo", points: 50, cons: "¬°Felicidades! La alianza es total. S√°nchez os invita a una ronda (con vuestro dinero)." },
                    { text: "Compartir la cuenta del Prime Video", points: -10, cons: "Eso es pirater√≠a internacional. La ONU os ha puesto en la lista negra de cooperantes." },
                    { text: "Hacer un grupo de WhatsApp infinito", points: -20, cons: "Eso solo genera caos y notificaciones. La alianza muere por falta de bater√≠a." }
                ]
            }
        ];

        let score = 0;
        let currentLevel = 0;
        let attempt = 0;

        function startGame() {
            score = 0; currentLevel = 0;
            document.getElementById('current-score').innerText = score;
            showScreen('question-screen');
            loadLevel();
        }

        function loadLevel() {
            const q = questions[currentLevel];
            document.getElementById('q-title').innerText = q.title;
            document.getElementById('q-desc').innerText = q.desc;
            const opts = document.getElementById('q-options');
            opts.innerHTML = '';
            q.options.forEach(o => {
                const b = document.createElement('button');
                b.innerText = o.text;
                b.onclick = () => selectOption(o);
                opts.appendChild(b);
            });
        }

        function selectOption(o) {
            score += o.points;
            document.getElementById('current-score').innerText = score;
            document.getElementById('c-title').innerText = o.points >= 40 ? "¬°OBJETIVO CUMPLIDO!" : "¬°SABOTAJE CLIM√ÅTICO!";
            document.getElementById('c-desc').innerText = o.cons;
            showScreen('consequence-screen');
        }

        function nextLevel() {
            currentLevel++;
            if (currentLevel < questions.length) {
                showScreen('question-screen');
                loadLevel();
            } else {
                finishGame();
            }
        }

        function finishGame() {
            attempt++;
            showScreen('final-screen');
            let rank = "";
            if (score >= 200) rank = "COMISARIOS DE LA AGENDA üá™üá∫";
            else if (score >= 50) rank = "DISIDENTES DEL FALCON üõ©Ô∏è";
            else rank = "CANDIDATOS AL EXILIO üíÄ";

            document.getElementById('final-result-content').innerHTML = `
                <h2 style="font-size:5vh; color:var(--neon-green);">${rank}</h2>
                <p>PUNTUACI√ìN ODS: ${score}</p>
                <p style="font-size:2vh;">Kevin y Ana han sobrevivido al DLC. Fondo Sur sigue siendo zona catastr√≥fica.</p>
            `;
            updateLeaderboard();
        }

        function updateLeaderboard() {
            const list = document.getElementById('lb-list');
            const item = document.createElement('div');
            item.className = 'lb-item fade-in';
            item.innerHTML = `<span>Run #${attempt}</span> <span>${score} PTS</span>`;
            list.prepend(item);
        }

        function showScreen(id) {
            document.querySelectorAll('#game-wrapper > div:not(#hud)').forEach(s => s.classList.add('hidden'));
            document.getElementById(id).classList.remove('hidden');
        }

        function resetGame() {
            startGame();
        }
    </script>
</body>
</html>
